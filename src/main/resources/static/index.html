<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŒœå•è¯æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 600px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }

        .game-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
        }

        .word-display {
            text-align: center;
            margin-bottom: 30px;
        }

        .word-letters {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .letter-box {
            width: 60px;
            height: 60px;
            border: 3px solid #667eea;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            font-weight: bold;
            color: #333;
            background: #f8f9fa;
            transition: all 0.3s ease;
        }

        .letter-box.revealed {
            background: #667eea;
            color: white;
        }

        .letter-box.correct {
            background: #28a745;
            color: white;
        }

        .letter-box.wrong {
            background: #dc3545;
            color: white;
        }

        .guessed-letters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .guessed-letter {
            padding: 8px 15px;
            background: #e9ecef;
            border-radius: 20px;
            font-weight: bold;
            color: #666;
        }

        .guessed-letter.correct {
            background: #28a745;
            color: white;
        }

        .guessed-letter.wrong {
            background: #dc3545;
            color: white;
        }

        .guess-input {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .guess-input input {
            flex: 1;
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .guess-input input:focus {
            border-color: #667eea;
        }

        .guess-input button {
            padding: 15px 30px;
            font-size: 1.2rem;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .guess-input button:hover {
            background: #5568d3;
        }

        .guess-input button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }

        .game-message {
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .game-message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .game-message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .game-message.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .game-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .game-controls button {
            padding: 15px 30px;
            font-size: 1.1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .settings-form {
            margin-bottom: 30px;
        }

        .settings-form label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #333;
        }

        .settings-form input {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .settings-form input:focus {
            border-color: #667eea;
        }

        .settings-form button {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 15px;
            transition: background 0.3s ease;
        }

        .settings-form button:hover {
            background: #5568d3;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .game-container {
                padding: 20px;
            }

            h1 {
                font-size: 2rem;
            }

            .letter-box {
                width: 40px;
                height: 40px;
                font-size: 1.5rem;
            }

            .game-stats {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ® çŒœå•è¯æ¸¸æˆ</h1>

        <!-- æ¸¸æˆè®¾ç½® -->
        <div id="settings" class="settings-form">
            <div class="game-message" id="settings-message"></div>
            <label for="max-guesses">è¯·è¾“å…¥æœ€å¤§çŒœæµ‹æ¬¡æ•°ï¼š</label>
            <input type="number" id="max-guesses" min="1" value="10" placeholder="è¾“å…¥çŒœæµ‹æ¬¡æ•°">
            <button id="start-game">å¼€å§‹æ¸¸æˆ</button>
        </div>

        <!-- æ¸¸æˆä¸»ç•Œé¢ -->
        <div id="game" class="hidden">
            <div class="game-stats">
                <div class="stat-item">
                    <div class="stat-label">å‰©ä½™æ¬¡æ•°</div>
                    <div class="stat-value" id="remaining-guesses">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">å·²çŒœå­—æ¯</div>
                    <div class="stat-value" id="guessed-count">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">æ­£ç¡®å­—æ¯</div>
                    <div class="stat-value" id="correct-count">0</div>
                </div>
            </div>

            <div class="word-display">
                <div class="word-letters" id="word-letters"></div>
                <div class="guessed-letters" id="guessed-letters"></div>
            </div>

            <div class="guess-input">
                <input type="text" id="guess-input" maxlength="1" placeholder="è¾“å…¥ä¸€ä¸ªå­—æ¯" disabled>
                <button id="guess-button" disabled>çŒœå­—æ¯</button>
            </div>

            <div class="game-message" id="game-message"></div>

            <div class="game-controls">
                <button id="new-game" class="btn-primary">æ–°æ¸¸æˆ</button>
                <button id="give-up" class="btn-secondary">æ”¾å¼ƒ</button>
            </div>
        </div>
    </div>

    <script>
        // å•è¯åº“
        const wordLibrary = [
            'apple', 'banana', 'cherry', 'date', 'elderberry', 'fig', 'grape',
            'honeydew', 'kiwi', 'lemon', 'mango', 'nectarine', 'orange',
            'peach', 'pear', 'quince', 'raspberry', 'strawberry', 'tangerine',
            'watermelon', 'avocado', 'blueberry', 'coconut', 'dragonfruit',
            'grapefruit', 'lime', 'pineapple', 'pomegranate', 'blackberry',
            'cantaloupe', 'cranberry', 'currant', 'gooseberry', 'guava',
            'jackfruit', 'kiwifruit', 'lemon', 'lime', 'lychee', 'mandarin',
            'mango', 'melon', 'nectarine', 'orange', 'papaya', 'passionfruit',
            'peach', 'pear', 'persimmon', 'pineapple', 'plum', 'pomegranate',
            'quince', 'raisin', 'raspberry', 'strawberry', 'tangerine',
            'watermelon', 'apricot', 'blackberry', 'blueberry', 'boysenberry',
            'cantaloupe', 'cherry', 'coconut', 'cranberry', 'currant',
            'date', 'dragonfruit', 'fig', 'grape', 'grapefruit', 'guava',
            'honeydew', 'jackfruit', 'kiwi', 'lemon', 'lime', 'lychee',
            'mango', 'nectarine', 'orange', 'papaya', 'peach', 'pear',
            'pineapple', 'plum', 'pomegranate', 'raspberry', 'strawberry',
            'tangerine', 'watermelon', 'avocado', 'banana', 'blackberry',
            'blueberry', 'boysenberry', 'cantaloupe', 'cherry', 'coconut',
            'cranberry', 'currant', 'date', 'dragonfruit', 'fig', 'grape',
            'grapefruit', 'guava', 'honeydew', 'jackfruit', 'kiwi', 'lemon',
            'lime', 'lychee', 'mango', 'nectarine', 'orange', 'papaya',
            'peach', 'pear', 'pineapple', 'plum', 'pomegranate', 'raspberry',
            'strawberry', 'tangerine', 'watermelon'
        ];

        // æ¸¸æˆçŠ¶æ€
        let gameState = {
            targetWord: '',
            maxGuesses: 0,
            remainingGuesses: 0,
            guessedLetters: [],
            correctLetters: [],
            gameOver: false
        };

        // DOM å…ƒç´ 
        const settingsDiv = document.getElementById('settings');
        const gameDiv = document.getElementById('game');
        const maxGuessesInput = document.getElementById('max-guesses');
        const startGameBtn = document.getElementById('start-game');
        const settingsMessageEl = document.getElementById('settings-message');
        const remainingGuessesEl = document.getElementById('remaining-guesses');
        const guessedCountEl = document.getElementById('guessed-count');
        const correctCountEl = document.getElementById('correct-count');
        const wordLettersEl = document.getElementById('word-letters');
        const guessedLettersEl = document.getElementById('guessed-letters');
        const guessInput = document.getElementById('guess-input');
        const guessButton = document.getElementById('guess-button');
        const gameMessageEl = document.getElementById('game-message');
        const newGameBtn = document.getElementById('new-game');
        const giveUpBtn = document.getElementById('give-up');

        // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬
        function initEventListeners() {
            startGameBtn.addEventListener('click', startGame);
            guessButton.addEventListener('click', makeGuess);
            guessInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    makeGuess();
                }
            });
            newGameBtn.addEventListener('click', resetGame);
            giveUpBtn.addEventListener('click', giveUp);
        }

        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            const maxGuesses = parseInt(maxGuessesInput.value);
            
            if (isNaN(maxGuesses) || maxGuesses < 1) {
                showSettingsMessage('è¯·è¾“å…¥æœ‰æ•ˆçš„çŒœæµ‹æ¬¡æ•°ï¼ˆè‡³å°‘1æ¬¡ï¼‰', 'error');
                return;
            }

            // éšæœºé€‰æ‹©ä¸€ä¸ªå•è¯
            const randomIndex = Math.floor(Math.random() * wordLibrary.length);
            gameState.targetWord = wordLibrary[randomIndex].toLowerCase();
            
            // éªŒè¯çŒœæµ‹æ¬¡æ•°æ˜¯å¦å°äºå•è¯é•¿åº¦
            if (maxGuesses < gameState.targetWord.length) {
                showSettingsMessage(`çŒœæµ‹æ¬¡æ•°ï¼ˆ${maxGuesses}ï¼‰å°äºå•è¯é•¿åº¦ï¼ˆ${gameState.targetWord.length}ï¼‰ï¼Œè¯·é‡æ–°è¾“å…¥ï¼`, 'error');
                return;
            }

            gameState.maxGuesses = maxGuesses;
            gameState.remainingGuesses = maxGuesses;
            gameState.guessedLetters = [];
            gameState.correctLetters = [];
            gameState.gameOver = false;

            // æ›´æ–°ç•Œé¢
            updateUI();
            
            // åˆ‡æ¢åˆ°æ¸¸æˆç•Œé¢
            settingsDiv.classList.add('hidden');
            gameDiv.classList.remove('hidden');
            
            // å¯ç”¨è¾“å…¥
            guessInput.disabled = false;
            guessButton.disabled = false;
            guessInput.focus();
        }

        // æ›´æ–°ç•Œé¢
        function updateUI() {
            // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
            remainingGuessesEl.textContent = gameState.remainingGuesses;
            guessedCountEl.textContent = gameState.guessedLetters.length;
            correctCountEl.textContent = gameState.correctLetters.length;

            // æ˜¾ç¤ºå•è¯
            displayWord();
            
            // æ˜¾ç¤ºå·²çŒœå­—æ¯
            displayGuessedLetters();
            
            // æ¸…ç©ºæ¸¸æˆæ¶ˆæ¯
            gameMessageEl.textContent = '';
            gameMessageEl.className = 'game-message';
        }

        // æ˜¾ç¤ºå•è¯
        function displayWord() {
            wordLettersEl.innerHTML = '';
            
            for (let i = 0; i < gameState.targetWord.length; i++) {
                const letter = gameState.targetWord[i];
                const letterBox = document.createElement('div');
                letterBox.className = 'letter-box';
                
                if (gameState.correctLetters.includes(letter)) {
                    letterBox.textContent = letter;
                    letterBox.classList.add('revealed');
                }
                
                wordLettersEl.appendChild(letterBox);
            }
        }

        // æ˜¾ç¤ºå·²çŒœå­—æ¯
        function displayGuessedLetters() {
            guessedLettersEl.innerHTML = '';
            
            gameState.guessedLetters.forEach(letter => {
                const letterEl = document.createElement('div');
                letterEl.className = 'guessed-letter';
                letterEl.textContent = letter;
                
                if (gameState.correctLetters.includes(letter)) {
                    letterEl.classList.add('correct');
                } else {
                    letterEl.classList.add('wrong');
                }
                
                guessedLettersEl.appendChild(letterEl);
            });
        }

        // çŒœå­—æ¯
        function makeGuess() {
            if (gameState.gameOver) return;
            
            const guess = guessInput.value.toLowerCase().trim();
            
            // éªŒè¯è¾“å…¥
            if (!guess) {
                showMessage('è¯·è¾“å…¥ä¸€ä¸ªå­—æ¯', 'error');
                return;
            }
            
            if (guess.length > 1) {
                showMessage('åªèƒ½è¾“å…¥ä¸€ä¸ªå­—æ¯', 'error');
                guessInput.value = '';
                return;
            }
            
            if (!/^[a-z]$/.test(guess)) {
                showMessage('è¯·è¾“å…¥æœ‰æ•ˆçš„è‹±æ–‡å­—æ¯', 'error');
                guessInput.value = '';
                return;
            }
            
            if (gameState.guessedLetters.includes(guess)) {
                showMessage('è¿™ä¸ªå­—æ¯å·²ç»çŒœè¿‡äº†', 'error');
                guessInput.value = '';
                return;
            }
            
            // æ·»åŠ åˆ°å·²çŒœå­—æ¯
            gameState.guessedLetters.push(guess);
            
            // æ£€æŸ¥æ˜¯å¦æ­£ç¡®
            if (gameState.targetWord.includes(guess)) {
                gameState.correctLetters.push(guess);
                showMessage(`æ­å–œï¼å­—æ¯ "${guess}" æ˜¯æ­£ç¡®çš„ï¼`, 'success');
                
                // æ£€æŸ¥æ˜¯å¦èƒœåˆ©
                if (checkWin()) {
                    endGame(true);
                    return;
                }
            } else {
                gameState.remainingGuesses--;
                showMessage(`å¾ˆé—æ†¾ï¼Œå­—æ¯ "${guess}" ä¸åœ¨å•è¯ä¸­`, 'error');
                
                // æ£€æŸ¥æ˜¯å¦å¤±è´¥
                if (gameState.remainingGuesses <= 0) {
                    endGame(false);
                    return;
                }
            }
            
            // æ›´æ–°ç•Œé¢
            updateUI();
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            guessInput.value = '';
            guessInput.focus();
        }

        // æ£€æŸ¥æ˜¯å¦èƒœåˆ©
        function checkWin() {
            for (let letter of gameState.targetWord) {
                if (!gameState.correctLetters.includes(letter)) {
                    return false;
                }
            }
            return true;
        }

        // ç»“æŸæ¸¸æˆ
        function endGame(won) {
            gameState.gameOver = true;
            
            // ç¦ç”¨è¾“å…¥
            guessInput.disabled = true;
            guessButton.disabled = true;
            
            // æ˜¾ç¤ºç»“æœ
            if (won) {
                showMessage(`ğŸ‰ æ­å–œä½ èƒœåˆ©äº†ï¼å•è¯æ˜¯ "${gameState.targetWord}"ï¼`, 'success');
                revealAllLetters();
            } else {
                showMessage(`ğŸ˜¢ å¾ˆé—æ†¾ä½ å¤±è´¥äº†ï¼å•è¯æ˜¯ "${gameState.targetWord}"ã€‚`, 'error');
                revealAllLetters();
            }
        }

        // æ˜¾ç¤ºæ‰€æœ‰å­—æ¯
        function revealAllLetters() {
            const letterBoxes = wordLettersEl.querySelectorAll('.letter-box');
            
            for (let i = 0; i < letterBoxes.length; i++) {
                const letter = gameState.targetWord[i];
                const letterBox = letterBoxes[i];
                
                letterBox.textContent = letter;
                
                if (gameState.correctLetters.includes(letter)) {
                    letterBox.classList.add('correct');
                } else {
                    letterBox.classList.add('wrong');
                }
            }
        }

        // æ”¾å¼ƒæ¸¸æˆ
        function giveUp() {
            if (gameState.gameOver) return;
            
            if (confirm('ç¡®å®šè¦æ”¾å¼ƒå—ï¼Ÿ')) {
                endGame(false);
            }
        }

        // é‡ç½®æ¸¸æˆ
        function resetGame() {
            gameDiv.classList.add('hidden');
            settingsDiv.classList.remove('hidden');
            maxGuessesInput.value = '10';
            maxGuessesInput.focus();
            
            // æ¸…ç©ºæ¸¸æˆçŠ¶æ€
            gameState = {
                targetWord: '',
                maxGuesses: 0,
                remainingGuesses: 0,
                guessedLetters: [],
                correctLetters: [],
                gameOver: false
            };
        }

        // æ˜¾ç¤ºæ¶ˆæ¯
        function showMessage(message, type) {
            gameMessageEl.textContent = message;
            gameMessageEl.className = `game-message ${type}`;
        }

        // æ˜¾ç¤ºè®¾ç½®ç•Œé¢æ¶ˆæ¯
        function showSettingsMessage(message, type) {
            settingsMessageEl.textContent = message;
            settingsMessageEl.className = `game-message ${type}`;
        }

        // åˆå§‹åŒ–æ¸¸æˆ
        initEventListeners();
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨èšç„¦åˆ°è¾“å…¥æ¡†
        window.addEventListener('DOMContentLoaded', () => {
            maxGuessesInput.focus();
        });
    </script>
</body>
</html>